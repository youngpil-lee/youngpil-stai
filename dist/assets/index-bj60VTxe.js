var vn=Object.defineProperty;var dn=(b,E,O)=>E in b?vn(b,E,{enumerable:!0,configurable:!0,writable:!0,value:O}):b[E]=O;var Ut=(b,E,O)=>dn(b,typeof E!="symbol"?E+"":E,O);(function(){const E=document.createElement("link").relList;if(E&&E.supports&&E.supports("modulepreload"))return;for(const _ of document.querySelectorAll('link[rel="modulepreload"]'))P(_);new MutationObserver(_=>{for(const T of _)if(T.type==="childList")for(const X of T.addedNodes)X.tagName==="LINK"&&X.rel==="modulepreload"&&P(X)}).observe(document,{childList:!0,subtree:!0});function O(_){const T={};return _.integrity&&(T.integrity=_.integrity),_.referrerPolicy&&(T.referrerPolicy=_.referrerPolicy),_.crossOrigin==="use-credentials"?T.credentials="include":_.crossOrigin==="anonymous"?T.credentials="omit":T.credentials="same-origin",T}function P(_){if(_.ep)return;_.ep=!0;const T=O(_);fetch(_.href,T)}})();var bt=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},yn={};(function(){var b;function E(t){var e=0;return function(){return e<t.length?{done:!1,value:t[e++]}:{done:!0}}}var O=typeof Object.defineProperties=="function"?Object.defineProperty:function(t,e,r){return t==Array.prototype||t==Object.prototype||(t[e]=r.value),t};function P(t){t=[typeof globalThis=="object"&&globalThis,t,typeof window=="object"&&window,typeof self=="object"&&self,typeof bt=="object"&&bt];for(var e=0;e<t.length;++e){var r=t[e];if(r&&r.Math==Math)return r}throw Error("Cannot find global object")}var _=P(this);function T(t,e){if(e)t:{var r=_;t=t.split(".");for(var n=0;n<t.length-1;n++){var i=t[n];if(!(i in r))break t;r=r[i]}t=t[t.length-1],n=r[t],e=e(n),e!=n&&e!=null&&O(r,t,{configurable:!0,writable:!0,value:e})}}T("Symbol",function(t){function e(s){if(this instanceof e)throw new TypeError("Symbol is not a constructor");return new r(n+(s||"")+"_"+i++,s)}function r(s,o){this.h=s,O(this,"description",{configurable:!0,writable:!0,value:o})}if(t)return t;r.prototype.toString=function(){return this.h};var n="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",i=0;return e}),T("Symbol.iterator",function(t){if(t)return t;t=Symbol("Symbol.iterator");for(var e="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),r=0;r<e.length;r++){var n=_[e[r]];typeof n=="function"&&typeof n.prototype[t]!="function"&&O(n.prototype,t,{configurable:!0,writable:!0,value:function(){return X(E(this))}})}return t});function X(t){return t={next:t},t[Symbol.iterator]=function(){return this},t}function M(t){var e=typeof Symbol<"u"&&Symbol.iterator&&t[Symbol.iterator];return e?e.call(t):{next:E(t)}}function J(t){if(!(t instanceof Array)){t=M(t);for(var e,r=[];!(e=t.next()).done;)r.push(e.value);t=r}return t}var ut=typeof Object.assign=="function"?Object.assign:function(t,e){for(var r=1;r<arguments.length;r++){var n=arguments[r];if(n)for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t};T("Object.assign",function(t){return t||ut});var lt=typeof Object.create=="function"?Object.create:function(t){function e(){}return e.prototype=t,new e},ft;if(typeof Object.setPrototypeOf=="function")ft=Object.setPrototypeOf;else{var nt;t:{var ht={a:!0},Tt={};try{Tt.__proto__=ht,nt=Tt.a;break t}catch{}nt=!1}ft=nt?function(t,e){if(t.__proto__=e,t.__proto__!==e)throw new TypeError(t+" is not extensible");return t}:null}var _t=ft;function pt(t,e){if(t.prototype=lt(e.prototype),t.prototype.constructor=t,_t)_t(t,e);else for(var r in e)if(r!="prototype")if(Object.defineProperties){var n=Object.getOwnPropertyDescriptor(e,r);n&&Object.defineProperty(t,r,n)}else t[r]=e[r];t.za=e.prototype}function jt(){this.m=!1,this.j=null,this.i=void 0,this.h=1,this.v=this.s=0,this.l=null}function St(t){if(t.m)throw new TypeError("Generator is already running");t.m=!0}jt.prototype.u=function(t){this.i=t};function at(t,e){t.l={ma:e,na:!0},t.h=t.s||t.v}jt.prototype.return=function(t){this.l={return:t},this.h=this.v};function N(t,e,r){return t.h=r,{value:e}}function Zt(t){this.h=new jt,this.i=t}function Qt(t,e){St(t.h);var r=t.h.j;return r?it(t,"return"in r?r.return:function(n){return{value:n,done:!0}},e,t.h.return):(t.h.return(e),G(t))}function it(t,e,r,n){try{var i=e.call(t.h.j,r);if(!(i instanceof Object))throw new TypeError("Iterator result "+i+" is not an object");if(!i.done)return t.h.m=!1,i;var s=i.value}catch(o){return t.h.j=null,at(t.h,o),G(t)}return t.h.j=null,n.call(t.h,s),G(t)}function G(t){for(;t.h.h;)try{var e=t.i(t.h);if(e)return t.h.m=!1,{value:e.value,done:!1}}catch(r){t.h.i=void 0,at(t.h,r)}if(t.h.m=!1,t.h.l){if(e=t.h.l,t.h.l=null,e.na)throw e.ma;return{value:e.return,done:!0}}return{value:void 0,done:!0}}function ot(t){this.next=function(e){return St(t.h),t.h.j?e=it(t,t.h.j.next,e,t.h.u):(t.h.u(e),e=G(t)),e},this.throw=function(e){return St(t.h),t.h.j?e=it(t,t.h.j.throw,e,t.h.u):(at(t.h,e),e=G(t)),e},this.return=function(e){return Qt(t,e)},this[Symbol.iterator]=function(){return this}}function a(t){function e(n){return t.next(n)}function r(n){return t.throw(n)}return new Promise(function(n,i){function s(o){o.done?n(o.value):Promise.resolve(o.value).then(e,r).then(s,i)}s(t.next())})}function c(t){return a(new ot(new Zt(t)))}T("Promise",function(t){function e(o){this.i=0,this.j=void 0,this.h=[],this.u=!1;var u=this.l();try{o(u.resolve,u.reject)}catch(l){u.reject(l)}}function r(){this.h=null}function n(o){return o instanceof e?o:new e(function(u){u(o)})}if(t)return t;r.prototype.i=function(o){if(this.h==null){this.h=[];var u=this;this.j(function(){u.m()})}this.h.push(o)};var i=_.setTimeout;r.prototype.j=function(o){i(o,0)},r.prototype.m=function(){for(;this.h&&this.h.length;){var o=this.h;this.h=[];for(var u=0;u<o.length;++u){var l=o[u];o[u]=null;try{l()}catch(f){this.l(f)}}}this.h=null},r.prototype.l=function(o){this.j(function(){throw o})},e.prototype.l=function(){function o(f){return function(p){l||(l=!0,f.call(u,p))}}var u=this,l=!1;return{resolve:o(this.I),reject:o(this.m)}},e.prototype.I=function(o){if(o===this)this.m(new TypeError("A Promise cannot resolve to itself"));else if(o instanceof e)this.L(o);else{t:switch(typeof o){case"object":var u=o!=null;break t;case"function":u=!0;break t;default:u=!1}u?this.F(o):this.s(o)}},e.prototype.F=function(o){var u=void 0;try{u=o.then}catch(l){this.m(l);return}typeof u=="function"?this.M(u,o):this.s(o)},e.prototype.m=function(o){this.v(2,o)},e.prototype.s=function(o){this.v(1,o)},e.prototype.v=function(o,u){if(this.i!=0)throw Error("Cannot settle("+o+", "+u+"): Promise already settled in state"+this.i);this.i=o,this.j=u,this.i===2&&this.K(),this.H()},e.prototype.K=function(){var o=this;i(function(){if(o.D()){var u=_.console;typeof u<"u"&&u.error(o.j)}},1)},e.prototype.D=function(){if(this.u)return!1;var o=_.CustomEvent,u=_.Event,l=_.dispatchEvent;return typeof l>"u"?!0:(typeof o=="function"?o=new o("unhandledrejection",{cancelable:!0}):typeof u=="function"?o=new u("unhandledrejection",{cancelable:!0}):(o=_.document.createEvent("CustomEvent"),o.initCustomEvent("unhandledrejection",!1,!0,o)),o.promise=this,o.reason=this.j,l(o))},e.prototype.H=function(){if(this.h!=null){for(var o=0;o<this.h.length;++o)s.i(this.h[o]);this.h=null}};var s=new r;return e.prototype.L=function(o){var u=this.l();o.T(u.resolve,u.reject)},e.prototype.M=function(o,u){var l=this.l();try{o.call(u,l.resolve,l.reject)}catch(f){l.reject(f)}},e.prototype.then=function(o,u){function l(d,v){return typeof d=="function"?function(w){try{f(d(w))}catch(j){p(j)}}:v}var f,p,g=new e(function(d,v){f=d,p=v});return this.T(l(o,f),l(u,p)),g},e.prototype.catch=function(o){return this.then(void 0,o)},e.prototype.T=function(o,u){function l(){switch(f.i){case 1:o(f.j);break;case 2:u(f.j);break;default:throw Error("Unexpected state: "+f.i)}}var f=this;this.h==null?s.i(l):this.h.push(l),this.u=!0},e.resolve=n,e.reject=function(o){return new e(function(u,l){l(o)})},e.race=function(o){return new e(function(u,l){for(var f=M(o),p=f.next();!p.done;p=f.next())n(p.value).T(u,l)})},e.all=function(o){var u=M(o),l=u.next();return l.done?n([]):new e(function(f,p){function g(w){return function(j){d[w]=j,v--,v==0&&f(d)}}var d=[],v=0;do d.push(void 0),v++,n(l.value).T(g(d.length-1),p),l=u.next();while(!l.done)})},e});function A(t,e){t instanceof String&&(t+="");var r=0,n=!1,i={next:function(){if(!n&&r<t.length){var s=r++;return{value:e(s,t[s]),done:!1}}return n=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}T("Array.prototype.keys",function(t){return t||function(){return A(this,function(e){return e})}}),T("Array.prototype.fill",function(t){return t||function(e,r,n){var i=this.length||0;for(0>r&&(r=Math.max(0,i+r)),(n==null||n>i)&&(n=i),n=Number(n),0>n&&(n=Math.max(0,i+n)),r=Number(r||0);r<n;r++)this[r]=e;return this}});function y(t){return t||Array.prototype.fill}T("Int8Array.prototype.fill",y),T("Uint8Array.prototype.fill",y),T("Uint8ClampedArray.prototype.fill",y),T("Int16Array.prototype.fill",y),T("Uint16Array.prototype.fill",y),T("Int32Array.prototype.fill",y),T("Uint32Array.prototype.fill",y),T("Float32Array.prototype.fill",y),T("Float64Array.prototype.fill",y),T("Object.is",function(t){return t||function(e,r){return e===r?e!==0||1/e===1/r:e!==e&&r!==r}}),T("Array.prototype.includes",function(t){return t||function(e,r){var n=this;n instanceof String&&(n=String(n));var i=n.length;for(r=r||0,0>r&&(r=Math.max(r+i,0));r<i;r++){var s=n[r];if(s===e||Object.is(s,e))return!0}return!1}}),T("String.prototype.includes",function(t){return t||function(e,r){if(this==null)throw new TypeError("The 'this' value for String.prototype.includes must not be null or undefined");if(e instanceof RegExp)throw new TypeError("First argument to String.prototype.includes must not be a regular expression");return this.indexOf(e,r||0)!==-1}});var x=this||self;function C(t,e){t=t.split(".");var r=x;t[0]in r||typeof r.execScript>"u"||r.execScript("var "+t[0]);for(var n;t.length&&(n=t.shift());)t.length||e===void 0?r[n]&&r[n]!==Object.prototype[n]?r=r[n]:r=r[n]={}:r[n]=e}function h(t){var e;t:{if((e=x.navigator)&&(e=e.userAgent))break t;e=""}return e.indexOf(t)!=-1}var m=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var r=t.length,n=Array(r),i=typeof t=="string"?t.split(""):t,s=0;s<r;s++)s in i&&(n[s]=e.call(void 0,i[s],s,t));return n},S={},L=null;function K(t){var e=t.length,r=3*e/4;r%3?r=Math.floor(r):"=.".indexOf(t[e-1])!=-1&&(r="=.".indexOf(t[e-2])!=-1?r-2:r-1);var n=new Uint8Array(r),i=0;return Ot(t,function(s){n[i++]=s}),i!==r?n.subarray(0,i):n}function Ot(t,e){function r(l){for(;n<t.length;){var f=t.charAt(n++),p=L[f];if(p!=null)return p;if(!/^[\s\xa0]*$/.test(f))throw Error("Unknown base64 encoding at char: "+f)}return l}V();for(var n=0;;){var i=r(-1),s=r(0),o=r(64),u=r(64);if(u===64&&i===-1)break;e(i<<2|s>>4),o!=64&&(e(s<<4&240|o>>2),u!=64&&e(o<<6&192|u))}}function V(){if(!L){L={};for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".split(""),e=["+/=","+/","-_=","-_.","-_"],r=0;5>r;r++){var n=t.concat(e[r].split(""));S[r]=n;for(var i=0;i<n.length;i++){var s=n[i];L[s]===void 0&&(L[s]=i)}}}}var $=typeof Uint8Array<"u",gt=!(h("Trident")||h("MSIE"))&&typeof x.btoa=="function";function wt(t){if(!gt){var e;e===void 0&&(e=0),V(),e=S[e];for(var r=Array(Math.floor(t.length/3)),n=e[64]||"",i=0,s=0;i<t.length-2;i+=3){var o=t[i],u=t[i+1],l=t[i+2],f=e[o>>2];o=e[(o&3)<<4|u>>4],u=e[(u&15)<<2|l>>6],l=e[l&63],r[s++]=f+o+u+l}switch(f=0,l=n,t.length-i){case 2:f=t[i+1],l=e[(f&15)<<2]||n;case 1:t=t[i],r[s]=e[t>>2]+e[(t&3)<<4|f>>4]+l+n}return r.join("")}for(e="";10240<t.length;)e+=String.fromCharCode.apply(null,t.subarray(0,10240)),t=t.subarray(10240);return e+=String.fromCharCode.apply(null,t),btoa(e)}var Ae=RegExp("[-_.]","g");function wr(t){switch(t){case"-":return"+";case"_":return"/";case".":return"=";default:return""}}function be(t){if(!gt)return K(t);Ae.test(t)&&(t=t.replace(Ae,wr)),t=atob(t);for(var e=new Uint8Array(t.length),r=0;r<t.length;r++)e[r]=t.charCodeAt(r);return e}var Te;function Jt(){return Te||(Te=new Uint8Array(0))}var Ft={},Er=typeof Uint8Array.prototype.slice=="function",H=0,B=0;function _e(t){var e=0>t;t=Math.abs(t);var r=t>>>0;t=Math.floor((t-r)/4294967296),e&&(r=M(je(r,t)),e=r.next().value,t=r.next().value,r=e),H=r>>>0,B=t>>>0}var Ar=typeof BigInt=="function";function je(t,e){return e=~e,t?t=~t+1:e+=1,[t,e]}function Se(t,e){this.i=t>>>0,this.h=e>>>0}function Oe(t){if(!t)return Fe||(Fe=new Se(0,0));if(!/^-?\d+$/.test(t))return null;if(16>t.length)_e(Number(t));else if(Ar)t=BigInt(t),H=Number(t&BigInt(4294967295))>>>0,B=Number(t>>BigInt(32)&BigInt(4294967295));else{var e=+(t[0]==="-");B=H=0;for(var r=t.length,n=e,i=(r-e)%6+e;i<=r;n=i,i+=6)n=Number(t.slice(n,i)),B*=1e6,H=1e6*H+n,4294967296<=H&&(B+=H/4294967296|0,H%=4294967296);e&&(e=M(je(H,B)),t=e.next().value,e=e.next().value,H=t,B=e)}return new Se(H,B)}var Fe;function xe(t,e){return Error("Invalid wire type: "+t+" (at position "+e+")")}function qt(){return Error("Failed to read varint, encoding is invalid.")}function Re(t,e){return Error("Tried to read past the end of the data "+e+" > "+t)}function vt(){throw Error("Invalid UTF8")}function Le(t,e){return e=String.fromCharCode.apply(null,e),t==null?e:t+e}var Ht=void 0,te,br=typeof TextDecoder<"u",Ie,Tr=typeof TextEncoder<"u",Pe;function Ne(t){if(t!==Ft)throw Error("illegal external caller")}function xt(t,e){if(Ne(e),this.V=t,t!=null&&t.length===0)throw Error("ByteString should be constructed with non-empty values")}function ee(){return Pe||(Pe=new xt(null,Ft))}function Ce(t){Ne(Ft);var e=t.V;return e=e==null||$&&e!=null&&e instanceof Uint8Array?e:typeof e=="string"?be(e):null,e==null?e:t.V=e}function _r(t){if(typeof t=="string")return{buffer:be(t),C:!1};if(Array.isArray(t))return{buffer:new Uint8Array(t),C:!1};if(t.constructor===Uint8Array)return{buffer:t,C:!1};if(t.constructor===ArrayBuffer)return{buffer:new Uint8Array(t),C:!1};if(t.constructor===xt)return{buffer:Ce(t)||Jt(),C:!0};if(t instanceof Uint8Array)return{buffer:new Uint8Array(t.buffer,t.byteOffset,t.byteLength),C:!1};throw Error("Type not convertible to a Uint8Array, expected a Uint8Array, an ArrayBuffer, a base64 encoded string, a ByteString or an Array of numbers")}function Me(t,e){this.i=null,this.m=!1,this.h=this.j=this.l=0,re(this,t,e)}function re(t,e,r){r=r===void 0?{}:r,t.S=r.S===void 0?!1:r.S,e&&(e=_r(e),t.i=e.buffer,t.m=e.C,t.l=0,t.j=t.i.length,t.h=t.l)}Me.prototype.reset=function(){this.h=this.l};function dt(t,e){if(t.h=e,e>t.j)throw Re(t.j,e)}function Rt(t){var e=t.i,r=t.h,n=e[r++],i=n&127;if(n&128&&(n=e[r++],i|=(n&127)<<7,n&128&&(n=e[r++],i|=(n&127)<<14,n&128&&(n=e[r++],i|=(n&127)<<21,n&128&&(n=e[r++],i|=n<<28,n&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128&&e[r++]&128)))))throw qt();return dt(t,r),i}function Ue(t,e){if(0>e)throw Error("Tried to read a negative byte length: "+e);var r=t.h,n=r+e;if(n>t.j)throw Re(e,t.j-r);return t.h=n,r}var He=[];function ne(){this.h=[]}ne.prototype.length=function(){return this.h.length},ne.prototype.end=function(){var t=this.h;return this.h=[],t};function ke(t,e,r){for(;0<r||127<e;)t.h.push(e&127|128),e=(e>>>7|r<<25)>>>0,r>>>=7;t.h.push(e)}function yt(t,e){for(;127<e;)t.h.push(e&127|128),e>>>=7;t.h.push(e)}function ie(t,e){if(He.length){var r=He.pop();re(r,t,e),t=r}else t=new Me(t,e);this.h=t,this.j=this.h.h,this.i=this.l=-1,this.setOptions(e)}ie.prototype.setOptions=function(t){t=t===void 0?{}:t,this.ca=t.ca===void 0?!1:t.ca},ie.prototype.reset=function(){this.h.reset(),this.j=this.h.h,this.i=this.l=-1};function De(t){var e=t.h;if(e.h==e.j)return!1;t.j=t.h.h;var r=Rt(t.h)>>>0;if(e=r>>>3,r&=7,!(0<=r&&5>=r))throw xe(r,t.j);if(1>e)throw Error("Invalid field number: "+e+" (at position "+t.j+")");return t.l=e,t.i=r,!0}function kt(t){switch(t.i){case 0:if(t.i!=0)kt(t);else t:{t=t.h;for(var e=t.h,r=e+10,n=t.i;e<r;)if(!(n[e++]&128)){dt(t,e);break t}throw qt()}break;case 1:t=t.h,dt(t,t.h+8);break;case 2:t.i!=2?kt(t):(e=Rt(t.h)>>>0,t=t.h,dt(t,t.h+e));break;case 5:t=t.h,dt(t,t.h+4);break;case 3:e=t.l;do{if(!De(t))throw Error("Unmatched start-group tag: stream EOF");if(t.i==4){if(t.l!=e)throw Error("Unmatched end-group tag");break}kt(t)}while(!0);break;default:throw xe(t.i,t.j)}}var Dt=[];function jr(){this.j=[],this.i=0,this.h=new ne}function Et(t,e){e.length!==0&&(t.j.push(e),t.i+=e.length)}function Sr(t,e){if(e=e.R){Et(t,t.h.end());for(var r=0;r<e.length;r++)Et(t,Ce(e[r])||Jt())}}var st=typeof Symbol=="function"&&typeof Symbol()=="symbol"?Symbol():void 0;function mt(t,e){return st?t[st]|=e:t.A!==void 0?t.A|=e:(Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}}),e)}function Ge(t,e){st?t[st]&&(t[st]&=~e):t.A!==void 0&&(t.A&=~e)}function U(t){var e;return st?e=t[st]:e=t.A,e??0}function q(t,e){st?t[st]=e:t.A!==void 0?t.A=e:Object.defineProperties(t,{A:{value:e,configurable:!0,writable:!0,enumerable:!1}})}function oe(t){return mt(t,1),t}function Or(t,e){q(e,(t|0)&-51)}function Gt(t,e){q(e,(t|18)&-41)}var se={};function Bt(t){return t!==null&&typeof t=="object"&&!Array.isArray(t)&&t.constructor===Object}var Lt,Be=[];q(Be,23),Lt=Object.freeze(Be);function ue(t){if(U(t.o)&2)throw Error("Cannot mutate an immutable Message")}function le(t){var e=t.length;(e=e?t[e-1]:void 0)&&Bt(e)?e.g=1:(e={},t.push((e.g=1,e)))}function Ye(t){var e=t.i+t.G;return t.B||(t.B=t.o[e]={})}function Z(t,e){return e===-1?null:e>=t.i?t.B?t.B[e]:void 0:t.o[e+t.G]}function tt(t,e,r,n){ue(t),It(t,e,r,n)}function It(t,e,r,n){t.j&&(t.j=void 0),e>=t.i||n?Ye(t)[e]=r:(t.o[e+t.G]=r,(t=t.B)&&e in t&&delete t[e])}function ae(t,e,r,n){var i=Z(t,e);Array.isArray(i)||(i=Lt);var s=U(i);if(s&1||oe(i),n)s&2||mt(i,2),r&1||Object.freeze(i);else{n=!(r&2);var o=s&2;r&1||!o?n&&s&16&&!o&&Ge(i,16):(i=oe(Array.prototype.slice.call(i)),It(t,e,i))}return i}function ce(t,e){var r=Z(t,e),n=r==null?r:typeof r=="number"||r==="NaN"||r==="Infinity"||r==="-Infinity"?Number(r):void 0;return n!=null&&n!==r&&It(t,e,n),n}function We(t,e,r,n,i){t.h||(t.h={});var s=t.h[r],o=ae(t,r,3,i);if(!s){var u=o;s=[];var l=!!(U(t.o)&16);o=!!(U(u)&2);var f=u;!i&&o&&(u=Array.prototype.slice.call(u));for(var p=o,g=0;g<u.length;g++){var d=u[g],v=e,w=!1;if(w=w===void 0?!1:w,d=Array.isArray(d)?new v(d):w?new v:void 0,d!==void 0){v=d.o;var j=w=U(v);o&&(j|=2),l&&(j|=16),j!=w&&q(v,j),v=j,p=p||!!(2&v),s.push(d)}}return t.h[r]=s,l=U(u),e=l|33,e=p?e&-9:e|8,l!=e&&(p=u,Object.isFrozen(p)&&(p=Array.prototype.slice.call(p)),q(p,e),u=p),f!==u&&It(t,r,u),(i||n&&o)&&mt(s,2),n&&Object.freeze(s),s}return i||(i=Object.isFrozen(s),n&&!i?Object.freeze(s):!n&&i&&(s=Array.prototype.slice.call(s),t.h[r]=s)),s}function fe(t,e,r){var n=!!(U(t.o)&2);if(e=We(t,e,r,n,n),t=ae(t,r,3,n),!(n||U(t)&8)){for(n=0;n<e.length;n++){if(r=e[n],U(r.o)&2){var i=Ze(r,!1);i.j=r}else i=r;r!==i&&(e[n]=i,t[n]=i.o)}mt(t,8)}return e}function et(t,e,r){if(r!=null&&typeof r!="number")throw Error("Value of float/double field must be a number|null|undefined, found "+typeof r+": "+r);tt(t,e,r)}function Xe(t,e,r,n,i){ue(t);var s=We(t,r,e,!1,!1);return r=n??new r,t=ae(t,e,2,!1),i!=null?(s.splice(i,0,r),t.splice(i,0,r.o)):(s.push(r),t.push(r.o)),r.C()&&Ge(t,8),r}function Yt(t,e){return t??e}function rt(t,e,r){return r=r===void 0?0:r,Yt(ce(t,e),r)}var Wt;function Fr(t){switch(typeof t){case"number":return isFinite(t)?t:String(t);case"object":if(t)if(Array.isArray(t)){if(U(t)&128)return t=Array.prototype.slice.call(t),le(t),t}else{if($&&t!=null&&t instanceof Uint8Array)return wt(t);if(t instanceof xt){var e=t.V;return e==null?"":typeof e=="string"?e:t.V=wt(e)}}}return t}function Ke(t,e,r,n){if(t!=null){if(Array.isArray(t))t=he(t,e,r,n!==void 0);else if(Bt(t)){var i={},s;for(s in t)i[s]=Ke(t[s],e,r,n);t=i}else t=e(t,n);return t}}function he(t,e,r,n){var i=U(t);n=n?!!(i&16):void 0,t=Array.prototype.slice.call(t);for(var s=0;s<t.length;s++)t[s]=Ke(t[s],e,r,n);return r(i,t),t}function xr(t){return t.ja===se?t.toJSON():Fr(t)}function Rr(t,e){t&128&&le(e)}function Ve(t,e,r){if(r=r===void 0?Gt:r,t!=null){if($&&t instanceof Uint8Array)return t.length?new xt(new Uint8Array(t),Ft):ee();if(Array.isArray(t)){var n=U(t);return n&2?t:e&&!(n&32)&&(n&16||n===0)?(q(t,n|2),t):(t=he(t,Ve,n&4?Gt:r,!0),e=U(t),e&4&&e&2&&Object.freeze(t),t)}return t.ja===se?$e(t):t}}function ze(t,e,r,n,i,s,o){if(t=t.h&&t.h[r]){if(n=U(t),n&2?n=t:(s=m(t,$e),Gt(n,s),Object.freeze(s),n=s),ue(e),o=n==null?Lt:oe([]),n!=null){for(s=!!n.length,t=0;t<n.length;t++){var u=n[t];s=s&&!(U(u.o)&2),o[t]=u.o}s=(s?8:0)|1,t=U(o),(t&s)!==s&&(Object.isFrozen(o)&&(o=Array.prototype.slice.call(o)),q(o,t|s)),e.h||(e.h={}),e.h[r]=n}else e.h&&(e.h[r]=void 0);It(e,r,o,i)}else tt(e,r,Ve(n,s,o),i)}function $e(t){return U(t.o)&2||(t=Ze(t,!0),mt(t.o,2)),t}function Ze(t,e){var r=t.o,n=[];mt(n,16);var i=t.constructor.h;if(i&&n.push(i),i=t.B,i){n.length=r.length,n.fill(void 0,n.length,r.length);var s={};n[n.length-1]=s}U(r)&128&&le(n),e=e||t.C()?Gt:Or,s=t.constructor,Wt=n,n=new s(n),Wt=void 0,t.R&&(n.R=t.R.slice()),s=!!(U(r)&16);for(var o=i?r.length-1:r.length,u=0;u<o;u++)ze(t,n,u-t.G,r[u],!1,s,e);if(i)for(var l in i)ze(t,n,+l,i[l],!0,s,e);return n}function Y(t,e,r){t==null&&(t=Wt),Wt=void 0;var n=this.constructor.i||0,i=0<n,s=this.constructor.h,o=!1;if(t==null){t=s?[s]:[];var u=48,l=!0;i&&(n=0,u|=128),q(t,u)}else{if(!Array.isArray(t)||s&&s!==t[0])throw Error();var f=u=mt(t,0);if((l=(16&f)!==0)&&((o=(32&f)!==0)||(f|=32)),i){if(128&f)n=0;else if(0<t.length){var p=t[t.length-1];if(Bt(p)&&"g"in p){n=0,f|=128,delete p.g;var g=!0,d;for(d in p){g=!1;break}g&&t.pop()}}}else if(128&f)throw Error();u!==f&&q(t,f)}this.G=(s?0:-1)-n,this.h=void 0,this.o=t;t:{if(s=this.o.length,n=s-1,s&&(s=this.o[n],Bt(s))){this.B=s,this.i=n-this.G;break t}e!==void 0&&-1<e?(this.i=Math.max(e,n+1-this.G),this.B=void 0):this.i=Number.MAX_VALUE}if(!i&&this.B&&"g"in this.B)throw Error('Unexpected "g" flag in sparse object of message that is not a group type.');if(r){e=l&&!o&&!0,i=this.i;var v;for(l=0;l<r.length;l++)o=r[l],o<i?(o+=this.G,(n=t[o])?Qe(n,e):t[o]=Lt):(v||(v=Ye(this)),(n=v[o])?Qe(n,e):v[o]=Lt)}}Y.prototype.toJSON=function(){return he(this.o,xr,Rr)},Y.prototype.C=function(){return!!(U(this.o)&2)};function Qe(t,e){if(Array.isArray(t)){var r=U(t),n=1;!e||r&2||(n|=16),(r&n)!==n&&q(t,r|n)}}Y.prototype.ja=se,Y.prototype.toString=function(){return this.o.toString()};function Je(t,e,r){if(r){var n={},i;for(i in r){var s=r[i],o=s.ra;o||(n.J=s.xa||s.oa.W,s.ia?(n.aa=nr(s.ia),o=function(u){return function(l,f,p){return u.J(l,f,p,u.aa)}}(n)):s.ka?(n.Z=ir(s.da.P,s.ka),o=function(u){return function(l,f,p){return u.J(l,f,p,u.Z)}}(n)):o=n.J,s.ra=o),o(e,t,s.da),n={J:n.J,aa:n.aa,Z:n.Z}}}Sr(e,t)}var Xt=Symbol();function qe(t,e,r){return t[Xt]||(t[Xt]=function(n,i){return e(n,i,r)})}function tr(t){var e=t[Xt];if(!e){var r=ve(t);e=function(n,i){return or(n,i,r)},t[Xt]=e}return e}function Lr(t){var e=t.ia;if(e)return tr(e);if(e=t.wa)return qe(t.da.P,e,t.ka)}function Ir(t){var e=Lr(t),r=t.da,n=t.oa.U;return e?function(i,s){return n(i,s,r,e)}:function(i,s){return n(i,s,r)}}function er(t,e){var r=t[e];return typeof r=="function"&&r.length===0&&(r=r(),t[e]=r),Array.isArray(r)&&(Nt in r||Pt in r||0<r.length&&typeof r[0]=="function")?r:void 0}function rr(t,e,r,n,i,s){e.P=t[0];var o=1;if(t.length>o&&typeof t[o]!="number"){var u=t[o++];r(e,u)}for(;o<t.length;){r=t[o++];for(var l=o+1;l<t.length&&typeof t[l]!="number";)l++;switch(u=t[o++],l-=o,l){case 0:n(e,r,u);break;case 1:(l=er(t,o))?(o++,i(e,r,u,l)):n(e,r,u,t[o++]);break;case 2:l=o++,l=er(t,l),i(e,r,u,l,t[o++]);break;case 3:s(e,r,u,t[o++],t[o++],t[o++]);break;case 4:s(e,r,u,t[o++],t[o++],t[o++],t[o++]);break;default:throw Error("unexpected number of binary field arguments: "+l)}}return e}var Kt=Symbol();function nr(t){var e=t[Kt];if(!e){var r=pe(t);e=function(n,i){return sr(n,i,r)},t[Kt]=e}return e}function ir(t,e){var r=t[Kt];return r||(r=function(n,i){return Je(n,i,e)},t[Kt]=r),r}var Pt=Symbol();function Pr(t,e){t.push(e)}function Nr(t,e,r){t.push(e,r.W)}function Cr(t,e,r,n){var i=nr(n),s=pe(n).P,o=r.W;t.push(e,function(u,l,f){return o(u,l,f,s,i)})}function Mr(t,e,r,n,i,s){var o=ir(n,s),u=r.W;t.push(e,function(l,f,p){return u(l,f,p,n,o)})}function pe(t){var e=t[Pt];return e||(e=rr(t,t[Pt]=[],Pr,Nr,Cr,Mr),Nt in t&&Pt in t&&(t.length=0),e)}var Nt=Symbol();function Ur(t,e){t[0]=e}function Hr(t,e,r,n){var i=r.U;t[e]=n?function(s,o,u){return i(s,o,u,n)}:i}function kr(t,e,r,n,i){var s=r.U,o=tr(n),u=ve(n).P;t[e]=function(l,f,p){return s(l,f,p,u,o,i)}}function Dr(t,e,r,n,i,s,o){var u=r.U,l=qe(n,i,s);t[e]=function(f,p,g){return u(f,p,g,n,l,o)}}function ve(t){var e=t[Nt];return e||(e=rr(t,t[Nt]={},Ur,Hr,kr,Dr),Nt in t&&Pt in t&&(t.length=0),e)}function or(t,e,r){for(;De(e)&&e.i!=4;){var n=e.l,i=r[n];if(!i){var s=r[0];s&&(s=s[n])&&(i=r[n]=Ir(s))}if(!i||!i(e,t,n)){i=e,n=t,s=i.j,kt(i);var o=i;if(!o.ca){if(i=o.h.h-s,o.h.h=s,o=o.h,i==0)i=ee();else{if(s=Ue(o,i),o.S&&o.m)i=o.i.subarray(s,s+i);else{o=o.i;var u=s;i=s+i,i=u===i?Jt():Er?o.slice(u,i):new Uint8Array(o.subarray(u,i))}i=i.length==0?ee():new xt(i,Ft)}(s=n.R)?s.push(i):n.R=[i]}}}return t}function sr(t,e,r){for(var n=r.length,i=n%2==1,s=i?1:0;s<n;s+=2)(0,r[s+1])(e,t,r[s]);Je(t,e,i?r[0]:void 0)}function Ct(t,e){return{U:t,W:e}}var Q=Ct(function(t,e,r){if(t.i!==5)return!1;t=t.h;var n=t.i,i=t.h,s=n[i],o=n[i+1],u=n[i+2];return n=n[i+3],dt(t,t.h+4),o=(s<<0|o<<8|u<<16|n<<24)>>>0,t=2*(o>>31)+1,s=o>>>23&255,o&=8388607,tt(e,r,s==255?o?NaN:1/0*t:s==0?t*Math.pow(2,-149)*o:t*Math.pow(2,s-150)*(o+Math.pow(2,23))),!0},function(t,e,r){if(e=ce(e,r),e!=null){yt(t.h,8*r+5),t=t.h;var n=+e;n===0?0<1/n?H=B=0:(B=0,H=2147483648):isNaN(n)?(B=0,H=2147483647):(n=(r=0>n?-2147483648:0)?-n:n,34028234663852886e22<n?(B=0,H=(r|2139095040)>>>0):11754943508222875e-54>n?(n=Math.round(n/Math.pow(2,-149)),B=0,H=(r|n)>>>0):(e=Math.floor(Math.log(n)/Math.LN2),n*=Math.pow(2,-e),n=Math.round(8388608*n),16777216<=n&&++e,B=0,H=(r|e+127<<23|n&8388607)>>>0)),r=H,t.h.push(r>>>0&255),t.h.push(r>>>8&255),t.h.push(r>>>16&255),t.h.push(r>>>24&255)}}),Gr=Ct(function(t,e,r){if(t.i!==0)return!1;var n=t.h,i=0,s=t=0,o=n.i,u=n.h;do{var l=o[u++];i|=(l&127)<<s,s+=7}while(32>s&&l&128);for(32<s&&(t|=(l&127)>>4),s=3;32>s&&l&128;s+=7)l=o[u++],t|=(l&127)<<s;if(dt(n,u),128>l)n=i>>>0,l=t>>>0,(t=l&2147483648)&&(n=~n+1>>>0,l=~l>>>0,n==0&&(l=l+1>>>0)),n=4294967296*l+(n>>>0);else throw qt();return tt(e,r,t?-n:n),!0},function(t,e,r){e=Z(e,r),e!=null&&(typeof e=="string"&&Oe(e),e!=null&&(yt(t.h,8*r),typeof e=="number"?(t=t.h,_e(e),ke(t,H,B)):(r=Oe(e),ke(t.h,r.i,r.h))))}),Br=Ct(function(t,e,r){return t.i!==0?!1:(tt(e,r,Rt(t.h)),!0)},function(t,e,r){if(e=Z(e,r),e!=null&&e!=null)if(yt(t.h,8*r),t=t.h,r=e,0<=r)yt(t,r);else{for(e=0;9>e;e++)t.h.push(r&127|128),r>>=7;t.h.push(1)}}),ur=Ct(function(t,e,r){if(t.i!==2)return!1;var n=Rt(t.h)>>>0;t=t.h;var i=Ue(t,n);if(t=t.i,br){var s=t,o;(o=te)||(o=te=new TextDecoder("utf-8",{fatal:!0})),t=i+n,s=i===0&&t===s.length?s:s.subarray(i,t);try{var u=o.decode(s)}catch(g){if(Ht===void 0){try{o.decode(new Uint8Array([128]))}catch{}try{o.decode(new Uint8Array([97])),Ht=!0}catch{Ht=!1}}throw!Ht&&(te=void 0),g}}else{u=i,n=u+n,i=[];for(var l=null,f,p;u<n;)f=t[u++],128>f?i.push(f):224>f?u>=n?vt():(p=t[u++],194>f||(p&192)!==128?(u--,vt()):i.push((f&31)<<6|p&63)):240>f?u>=n-1?vt():(p=t[u++],(p&192)!==128||f===224&&160>p||f===237&&160<=p||((s=t[u++])&192)!==128?(u--,vt()):i.push((f&15)<<12|(p&63)<<6|s&63)):244>=f?u>=n-2?vt():(p=t[u++],(p&192)!==128||(f<<28)+(p-144)>>30||((s=t[u++])&192)!==128||((o=t[u++])&192)!==128?(u--,vt()):(f=(f&7)<<18|(p&63)<<12|(s&63)<<6|o&63,f-=65536,i.push((f>>10&1023)+55296,(f&1023)+56320))):vt(),8192<=i.length&&(l=Le(l,i),i.length=0);u=Le(l,i)}return tt(e,r,u),!0},function(t,e,r){if(e=Z(e,r),e!=null){var n=!1;if(n=n===void 0?!1:n,Tr){if(n&&/(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])/.test(e))throw Error("Found an unpaired surrogate");e=(Ie||(Ie=new TextEncoder)).encode(e)}else{for(var i=0,s=new Uint8Array(3*e.length),o=0;o<e.length;o++){var u=e.charCodeAt(o);if(128>u)s[i++]=u;else{if(2048>u)s[i++]=u>>6|192;else{if(55296<=u&&57343>=u){if(56319>=u&&o<e.length){var l=e.charCodeAt(++o);if(56320<=l&&57343>=l){u=1024*(u-55296)+l-56320+65536,s[i++]=u>>18|240,s[i++]=u>>12&63|128,s[i++]=u>>6&63|128,s[i++]=u&63|128;continue}else o--}if(n)throw Error("Found an unpaired surrogate");u=65533}s[i++]=u>>12|224,s[i++]=u>>6&63|128}s[i++]=u&63|128}}e=i===s.length?s:s.subarray(0,i)}yt(t.h,8*r+2),yt(t.h,e.length),Et(t,t.h.end()),Et(t,e)}}),lr=Ct(function(t,e,r,n,i){if(t.i!==2)return!1;e=Xe(e,r,n),r=t.h.j,n=Rt(t.h)>>>0;var s=t.h.h+n,o=s-r;if(0>=o&&(t.h.j=s,i(e,t,void 0,void 0,void 0),o=s-t.h.h),o)throw Error("Message parsing ended unexpectedly. Expected to read "+(n+" bytes, instead read "+(n-o)+" bytes, either the data ended unexpectedly or the message misreported its own length"));return t.h.h=s,t.h.j=r,!0},function(t,e,r,n,i){if(e=fe(e,n,r),e!=null)for(n=0;n<e.length;n++){var s=t;yt(s.h,8*r+2);var o=s.h.end();Et(s,o),o.push(s.i),s=o,i(e[n],t),o=t;var u=s.pop();for(u=o.i+o.h.length()-u;127<u;)s.push(u&127|128),u>>>=7,o.i++;s.push(u),o.i++}});function de(t){return function(e,r){t:{if(Dt.length){var n=Dt.pop();n.setOptions(r),re(n.h,e,r),e=n}else e=new ie(e,r);try{var i=ve(t),s=or(new i.P,e,i);break t}finally{i=e.h,i.i=null,i.m=!1,i.l=0,i.j=0,i.h=0,i.S=!1,e.l=-1,e.i=-1,100>Dt.length&&Dt.push(e)}s=void 0}return s}}function ye(t){return function(){var e=new jr;sr(this,e,pe(t)),Et(e,e.h.end());for(var r=new Uint8Array(e.i),n=e.j,i=n.length,s=0,o=0;o<i;o++){var u=n[o];r.set(u,s),s+=u.length}return e.j=[r],r}}function At(t){Y.call(this,t)}pt(At,Y);var ar=[At,1,Br,2,Q,3,ur,4,ur];At.prototype.l=ye(ar);function me(t){Y.call(this,t,-1,Yr)}pt(me,Y),me.prototype.addClassification=function(t,e){return Xe(this,1,At,t,e),this};var Yr=[1],Wr=de([me,1,lr,ar]);function Mt(t){Y.call(this,t)}pt(Mt,Y);var cr=[Mt,1,Q,2,Q,3,Q,4,Q,5,Q];Mt.prototype.l=ye(cr);function fr(t){Y.call(this,t,-1,Xr)}pt(fr,Y);var Xr=[1],Kr=de([fr,1,lr,cr]);function Vt(t){Y.call(this,t)}pt(Vt,Y);var hr=[Vt,1,Q,2,Q,3,Q,4,Q,5,Q,6,Gr],Vr=de(hr);Vt.prototype.l=ye(hr);function pr(t,e,r){if(r=t.createShader(r===0?t.VERTEX_SHADER:t.FRAGMENT_SHADER),t.shaderSource(r,e),t.compileShader(r),!t.getShaderParameter(r,t.COMPILE_STATUS))throw Error(`Could not compile WebGL shader.

`+t.getShaderInfoLog(r));return r}function zr(t){return fe(t,At,1).map(function(e){var r=Z(e,1);return{index:r??0,qa:rt(e,2),label:Z(e,3)!=null?Yt(Z(e,3),""):void 0,displayName:Z(e,4)!=null?Yt(Z(e,4),""):void 0}})}function $r(t){return{x:rt(t,1),y:rt(t,2),z:rt(t,3),visibility:ce(t,4)!=null?rt(t,4):void 0}}function ge(t){return fe(Kr(t),Mt,1).map($r)}function we(t,e){this.i=t,this.h=e,this.m=0}function vr(t,e,r){return Zr(t,e),typeof t.h.canvas.transferToImageBitmap=="function"?Promise.resolve(t.h.canvas.transferToImageBitmap()):r?Promise.resolve(t.h.canvas):typeof createImageBitmap=="function"?createImageBitmap(t.h.canvas):(t.j===void 0&&(t.j=document.createElement("canvas")),new Promise(function(n){t.j.height=t.h.canvas.height,t.j.width=t.h.canvas.width,t.j.getContext("2d",{}).drawImage(t.h.canvas,0,0,t.h.canvas.width,t.h.canvas.height),n(t.j)}))}function Zr(t,e){var r=t.h;if(t.s===void 0){var n=pr(r,`
  attribute vec2 aVertex;
  attribute vec2 aTex;
  varying vec2 vTex;
  void main(void) {
    gl_Position = vec4(aVertex, 0.0, 1.0);
    vTex = aTex;
  }`,0),i=pr(r,`
  precision mediump float;
  varying vec2 vTex;
  uniform sampler2D sampler0;
  void main(){
    gl_FragColor = texture2D(sampler0, vTex);
  }`,1),s=r.createProgram();if(r.attachShader(s,n),r.attachShader(s,i),r.linkProgram(s),!r.getProgramParameter(s,r.LINK_STATUS))throw Error(`Could not compile WebGL program.

`+r.getProgramInfoLog(s));n=t.s=s,r.useProgram(n),i=r.getUniformLocation(n,"sampler0"),t.l={O:r.getAttribLocation(n,"aVertex"),N:r.getAttribLocation(n,"aTex"),ya:i},t.v=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.enableVertexAttribArray(t.l.O),r.vertexAttribPointer(t.l.O,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([-1,-1,-1,1,1,1,1,-1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),t.u=r.createBuffer(),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.enableVertexAttribArray(t.l.N),r.vertexAttribPointer(t.l.N,2,r.FLOAT,!1,0,0),r.bufferData(r.ARRAY_BUFFER,new Float32Array([0,1,0,0,1,0,1,1]),r.STATIC_DRAW),r.bindBuffer(r.ARRAY_BUFFER,null),r.uniform1i(i,0)}n=t.l,r.useProgram(t.s),r.canvas.width=e.width,r.canvas.height=e.height,r.viewport(0,0,e.width,e.height),r.activeTexture(r.TEXTURE0),t.i.bindTexture2d(e.glName),r.enableVertexAttribArray(n.O),r.bindBuffer(r.ARRAY_BUFFER,t.v),r.vertexAttribPointer(n.O,2,r.FLOAT,!1,0,0),r.enableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,t.u),r.vertexAttribPointer(n.N,2,r.FLOAT,!1,0,0),r.bindFramebuffer(r.DRAW_FRAMEBUFFER?r.DRAW_FRAMEBUFFER:r.FRAMEBUFFER,null),r.clearColor(0,0,0,0),r.clear(r.COLOR_BUFFER_BIT),r.colorMask(!0,!0,!0,!0),r.drawArrays(r.TRIANGLE_FAN,0,4),r.disableVertexAttribArray(n.O),r.disableVertexAttribArray(n.N),r.bindBuffer(r.ARRAY_BUFFER,null),t.i.bindTexture2d(0)}function Qr(t){this.h=t}var Jr=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,2,1,0,10,9,1,7,0,65,0,253,15,26,11]);function qr(t,e){return e+t}function dr(t,e){window[t]=e}function tn(t){var e=document.createElement("script");return e.setAttribute("src",t),e.setAttribute("crossorigin","anonymous"),new Promise(function(r){e.addEventListener("load",function(){r()},!1),e.addEventListener("error",function(){r()},!1),document.body.appendChild(e)})}function en(){return c(function(t){switch(t.h){case 1:return t.s=2,N(t,WebAssembly.instantiate(Jr),4);case 4:t.h=3,t.s=0;break;case 2:return t.s=0,t.l=null,t.return(!1);case 3:return t.return(!0)}})}function Ee(t){if(this.h=t,this.listeners={},this.l={},this.L={},this.s={},this.v={},this.M=this.u=this.ga=!0,this.I=Promise.resolve(),this.fa="",this.D={},this.locateFile=t&&t.locateFile||qr,typeof window=="object")var e=window.location.pathname.toString().substring(0,window.location.pathname.toString().lastIndexOf("/"))+"/";else if(typeof location<"u")e=location.pathname.toString().substring(0,location.pathname.toString().lastIndexOf("/"))+"/";else throw Error("solutions can only be loaded on a web page or in a web worker");if(this.ha=e,t.options){e=M(Object.keys(t.options));for(var r=e.next();!r.done;r=e.next()){r=r.value;var n=t.options[r].default;n!==void 0&&(this.l[r]=typeof n=="function"?n():n)}}}b=Ee.prototype,b.close=function(){return this.j&&this.j.delete(),Promise.resolve()};function rn(t){var e,r,n,i,s,o,u,l,f,p,g;return c(function(d){switch(d.h){case 1:return t.ga?(e=t.h.files===void 0?[]:typeof t.h.files=="function"?t.h.files(t.l):t.h.files,N(d,en(),2)):d.return();case 2:if(r=d.i,typeof window=="object")return dr("createMediapipeSolutionsWasm",{locateFile:t.locateFile}),dr("createMediapipeSolutionsPackedAssets",{locateFile:t.locateFile}),o=e.filter(function(v){return v.data!==void 0}),u=e.filter(function(v){return v.data===void 0}),l=Promise.all(o.map(function(v){var w=zt(t,v.url);if(v.path!==void 0){var j=v.path;w=w.then(function(I){return t.overrideFile(j,I),Promise.resolve(I)})}return w})),f=Promise.all(u.map(function(v){return v.simd===void 0||v.simd&&r||!v.simd&&!r?tn(t.locateFile(v.url,t.ha)):Promise.resolve()})).then(function(){var v,w,j;return c(function(I){if(I.h==1)return v=window.createMediapipeSolutionsWasm,w=window.createMediapipeSolutionsPackedAssets,j=t,N(I,v(w),2);j.i=I.i,I.h=0})}),p=function(){return c(function(v){return t.h.graph&&t.h.graph.url?v=N(v,zt(t,t.h.graph.url),0):(v.h=0,v=void 0),v})}(),N(d,Promise.all([f,l,p]),7);if(typeof importScripts!="function")throw Error("solutions can only be loaded on a web page or in a web worker");return n=e.filter(function(v){return v.simd===void 0||v.simd&&r||!v.simd&&!r}).map(function(v){return t.locateFile(v.url,t.ha)}),importScripts.apply(null,J(n)),i=t,N(d,createMediapipeSolutionsWasm(Module),6);case 6:i.i=d.i,t.m=new OffscreenCanvas(1,1),t.i.canvas=t.m,s=t.i.GL.createContext(t.m,{antialias:!1,alpha:!1,va:typeof WebGL2RenderingContext<"u"?2:1}),t.i.GL.makeContextCurrent(s),d.h=4;break;case 7:if(t.m=document.createElement("canvas"),g=t.m.getContext("webgl2",{}),!g&&(g=t.m.getContext("webgl",{}),!g))return alert("Failed to create WebGL canvas context when passing video frame."),d.return();t.K=g,t.i.canvas=t.m,t.i.createContext(t.m,!0,!0,{});case 4:t.j=new t.i.SolutionWasm,t.ga=!1,d.h=0}})}function nn(t){var e,r,n,i,s,o,u,l;return c(function(f){if(f.h==1){if(t.h.graph&&t.h.graph.url&&t.fa===t.h.graph.url)return f.return();if(t.u=!0,!t.h.graph||!t.h.graph.url){f.h=2;return}return t.fa=t.h.graph.url,N(f,zt(t,t.h.graph.url),3)}for(f.h!=2&&(e=f.i,t.j.loadGraph(e)),r=M(Object.keys(t.D)),n=r.next();!n.done;n=r.next())i=n.value,t.j.overrideFile(i,t.D[i]);if(t.D={},t.h.listeners)for(s=M(t.h.listeners),o=s.next();!o.done;o=s.next())u=o.value,ln(t,u);l=t.l,t.l={},t.setOptions(l),f.h=0})}b.reset=function(){var t=this;return c(function(e){t.j&&(t.j.reset(),t.s={},t.v={}),e.h=0})},b.setOptions=function(t,e){var r=this;if(e=e||this.h.options){for(var n=[],i=[],s={},o=M(Object.keys(t)),u=o.next();!u.done;s={X:s.X,Y:s.Y},u=o.next())if(u=u.value,!(u in this.l&&this.l[u]===t[u])){this.l[u]=t[u];var l=e[u];l!==void 0&&(l.onChange&&(s.X=l.onChange,s.Y=t[u],n.push(function(f){return function(){var p;return c(function(g){if(g.h==1)return N(g,f.X(f.Y),2);p=g.i,p===!0&&(r.u=!0),g.h=0})}}(s))),l.graphOptionXref&&(u=Object.assign({},{calculatorName:"",calculatorIndex:0},l.graphOptionXref,{valueNumber:l.type===1?t[u]:0,valueBoolean:l.type===0?t[u]:!1,valueString:l.type===2?t[u]:""}),i.push(u)))}(n.length!==0||i.length!==0)&&(this.u=!0,this.H=(this.H===void 0?[]:this.H).concat(i),this.F=(this.F===void 0?[]:this.F).concat(n))}};function on(t){var e,r,n,i,s,o,u;return c(function(l){switch(l.h){case 1:if(!t.u)return l.return();if(!t.F){l.h=2;break}e=M(t.F),r=e.next();case 3:if(r.done){l.h=5;break}return n=r.value,N(l,n(),4);case 4:r=e.next(),l.h=3;break;case 5:t.F=void 0;case 2:if(t.H){for(i=new t.i.GraphOptionChangeRequestList,s=M(t.H),o=s.next();!o.done;o=s.next())u=o.value,i.push_back(u);t.j.changeOptions(i),i.delete(),t.H=void 0}t.u=!1,l.h=0}})}b.initialize=function(){var t=this;return c(function(e){return e.h==1?N(e,rn(t),2):e.h!=3?N(e,nn(t),3):N(e,on(t),0)})};function zt(t,e){var r,n;return c(function(i){return e in t.L?i.return(t.L[e]):(r=t.locateFile(e,""),n=fetch(r).then(function(s){return s.arrayBuffer()}),t.L[e]=n,i.return(n))})}b.overrideFile=function(t,e){this.j?this.j.overrideFile(t,e):this.D[t]=e},b.clearOverriddenFiles=function(){this.D={},this.j&&this.j.clearOverriddenFiles()},b.send=function(t,e){var r=this,n,i,s,o,u,l,f,p,g;return c(function(d){switch(d.h){case 1:return r.h.inputs?(n=1e3*(e??performance.now()),N(d,r.I,2)):d.return();case 2:return N(d,r.initialize(),3);case 3:for(i=new r.i.PacketDataList,s=M(Object.keys(t)),o=s.next();!o.done;o=s.next())if(u=o.value,l=r.h.inputs[u]){t:{var v=t[u];switch(l.type){case"video":var w=r.s[l.stream];if(w||(w=new we(r.i,r.K),r.s[l.stream]=w),w.m===0&&(w.m=w.i.createTexture()),typeof HTMLVideoElement<"u"&&v instanceof HTMLVideoElement)var j=v.videoWidth,I=v.videoHeight;else typeof HTMLImageElement<"u"&&v instanceof HTMLImageElement?(j=v.naturalWidth,I=v.naturalHeight):(j=v.width,I=v.height);I={glName:w.m,width:j,height:I},j=w.h,j.canvas.width=I.width,j.canvas.height=I.height,j.activeTexture(j.TEXTURE0),w.i.bindTexture2d(w.m),j.texImage2D(j.TEXTURE_2D,0,j.RGBA,j.RGBA,j.UNSIGNED_BYTE,v),w.i.bindTexture2d(0),w=I;break t;case"detections":for(w=r.s[l.stream],w||(w=new Qr(r.i),r.s[l.stream]=w),w.data||(w.data=new w.h.DetectionListData),w.data.reset(v.length),I=0;I<v.length;++I){j=v[I];var R=w.data,k=R.setBoundingBox,z=I,W=j.la,F=new Vt;if(et(F,1,W.sa),et(F,2,W.ta),et(F,3,W.height),et(F,4,W.width),et(F,5,W.rotation),tt(F,6,W.pa),W=F.l(),k.call(R,z,W),j.ea)for(R=0;R<j.ea.length;++R){F=j.ea[R],k=w.data,z=k.addNormalizedLandmark,W=I,F=Object.assign({},F,{visibility:F.visibility?F.visibility:0});var D=new Mt;et(D,1,F.x),et(D,2,F.y),et(D,3,F.z),F.visibility&&et(D,4,F.visibility),F=D.l(),z.call(k,W,F)}if(j.ba)for(R=0;R<j.ba.length;++R)k=w.data,z=k.addClassification,W=I,F=j.ba[R],D=new At,et(D,2,F.qa),F.index&&tt(D,1,F.index),F.label&&tt(D,3,F.label),F.displayName&&tt(D,4,F.displayName),F=D.l(),z.call(k,W,F)}w=w.data;break t;default:w={}}}switch(f=w,p=l.stream,l.type){case"video":i.pushTexture2d(Object.assign({},f,{stream:p,timestamp:n}));break;case"detections":g=f,g.stream=p,g.timestamp=n,i.pushDetectionList(g);break;default:throw Error("Unknown input config type: '"+l.type+"'")}}return r.j.send(i),N(d,r.I,4);case 4:i.delete(),d.h=0}})};function sn(t,e,r){var n,i,s,o,u,l,f,p,g,d,v,w,j,I;return c(function(R){switch(R.h){case 1:if(!r)return R.return(e);for(n={},i=0,s=M(Object.keys(r)),o=s.next();!o.done;o=s.next())u=o.value,l=r[u],typeof l!="string"&&l.type==="texture"&&e[l.stream]!==void 0&&++i;1<i&&(t.M=!1),f=M(Object.keys(r)),o=f.next();case 2:if(o.done){R.h=4;break}if(p=o.value,g=r[p],typeof g=="string")return j=n,I=p,N(R,un(t,p,e[g]),14);if(d=e[g.stream],g.type==="detection_list"){if(d){for(var k=d.getRectList(),z=d.getLandmarksList(),W=d.getClassificationsList(),F=[],D=0;D<k.size();++D){var ct=Vr(k.get(D)),an=rt(ct,1),cn=rt(ct,2),fn=rt(ct,3),hn=rt(ct,4),pn=rt(ct,5,0),$t=void 0;$t=$t===void 0?0:$t,ct={la:{sa:an,ta:cn,height:fn,width:hn,rotation:pn,pa:Yt(Z(ct,6),$t)},ea:ge(z.get(D)),ba:zr(Wr(W.get(D)))},F.push(ct)}k=F}else k=[];n[p]=k,R.h=7;break}if(g.type==="proto_list"){if(d){for(k=Array(d.size()),z=0;z<d.size();z++)k[z]=d.get(z);d.delete()}else k=[];n[p]=k,R.h=7;break}if(d===void 0){R.h=3;break}if(g.type==="float_list"){n[p]=d,R.h=7;break}if(g.type==="proto"){n[p]=d,R.h=7;break}if(g.type!=="texture")throw Error("Unknown output config type: '"+g.type+"'");return v=t.v[p],v||(v=new we(t.i,t.K),t.v[p]=v),N(R,vr(v,d,t.M),13);case 13:w=R.i,n[p]=w;case 7:g.transform&&n[p]&&(n[p]=g.transform(n[p])),R.h=3;break;case 14:j[I]=R.i;case 3:o=f.next(),R.h=2;break;case 4:return R.return(n)}})}function un(t,e,r){var n;return c(function(i){return typeof r=="number"||r instanceof Uint8Array||r instanceof t.i.Uint8BlobList?i.return(r):r instanceof t.i.Texture2dDataOut?(n=t.v[e],n||(n=new we(t.i,t.K),t.v[e]=n),i.return(vr(n,r,t.M))):i.return(void 0)})}function ln(t,e){for(var r=e.name||"$",n=[].concat(J(e.wants)),i=new t.i.StringList,s=M(e.wants),o=s.next();!o.done;o=s.next())i.push_back(o.value);s=t.i.PacketListener.implement({onResults:function(u){for(var l={},f=0;f<e.wants.length;++f)l[n[f]]=u.get(f);var p=t.listeners[r];p&&(t.I=sn(t,l,e.outs).then(function(g){g=p(g);for(var d=0;d<e.wants.length;++d){var v=l[n[d]];typeof v=="object"&&v.hasOwnProperty&&v.hasOwnProperty("delete")&&v.delete()}g&&(t.I=g)}))}}),t.j.attachMultiListener(i,s),i.delete()}b.onResults=function(t,e){this.listeners[e||"$"]=t},C("Solution",Ee),C("OptionType",{BOOL:0,NUMBER:1,ua:2,0:"BOOL",1:"NUMBER",2:"STRING"});function yr(t){switch(t===void 0&&(t=0),t){case 1:return"pose_landmark_full.tflite";case 2:return"pose_landmark_heavy.tflite";default:return"pose_landmark_lite.tflite"}}function mr(t){var e=this;t=t||{},this.h=new Ee({locateFile:t.locateFile,files:function(r){return[{url:"pose_solution_packed_assets_loader.js"},{simd:!1,url:"pose_solution_wasm_bin.js"},{simd:!0,url:"pose_solution_simd_wasm_bin.js"},{data:!0,url:yr(r.modelComplexity)}]},graph:{url:"pose_web.binarypb"},listeners:[{wants:["pose_landmarks","world_landmarks","segmentation_mask","image_transformed"],outs:{image:{type:"texture",stream:"image_transformed"},poseLandmarks:{type:"proto",stream:"pose_landmarks",transform:ge},poseWorldLandmarks:{type:"proto",stream:"world_landmarks",transform:ge},segmentationMask:{type:"texture",stream:"segmentation_mask"}}}],inputs:{image:{type:"video",stream:"input_frames_gpu"}},options:{useCpuInference:{type:0,graphOptionXref:{calculatorType:"InferenceCalculator",fieldName:"use_cpu_inference"},default:typeof window!="object"||window.navigator===void 0?!1:"iPad Simulator;iPhone Simulator;iPod Simulator;iPad;iPhone;iPod".split(";").includes(navigator.platform)||navigator.userAgent.includes("Mac")&&"ontouchend"in document},selfieMode:{type:0,graphOptionXref:{calculatorType:"GlScalerCalculator",calculatorIndex:1,fieldName:"flip_horizontal"}},modelComplexity:{type:1,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorModelComplexity",fieldName:"int_value"},onChange:function(r){var n,i,s;return c(function(o){return o.h==1?(n=yr(r),i="third_party/mediapipe/modules/pose_landmark/"+n,N(o,zt(e.h,n),2)):(s=o.i,e.h.overrideFile(i,s),o.return(!0))})}},smoothLandmarks:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothLandmarks",fieldName:"bool_value"}},enableSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorEnableSegmentation",fieldName:"bool_value"}},smoothSegmentation:{type:0,graphOptionXref:{calculatorType:"ConstantSidePacketCalculator",calculatorName:"ConstantSidePacketCalculatorSmoothSegmentation",fieldName:"bool_value"}},minDetectionConfidence:{type:1,graphOptionXref:{calculatorType:"TensorsToDetectionsCalculator",calculatorName:"poselandmarkgpu__posedetectiongpu__TensorsToDetectionsCalculator",fieldName:"min_score_thresh"}},minTrackingConfidence:{type:1,graphOptionXref:{calculatorType:"ThresholdingCalculator",calculatorName:"poselandmarkgpu__poselandmarkbyroigpu__tensorstoposelandmarksandsegmentation__ThresholdingCalculator",fieldName:"threshold"}}}})}b=mr.prototype,b.reset=function(){this.h.reset()},b.close=function(){return this.h.close(),Promise.resolve()},b.onResults=function(t){this.h.onResults(t)},b.initialize=function(){var t=this;return c(function(e){return N(e,t.h.initialize(),0)})},b.send=function(t,e){var r=this;return c(function(n){return N(n,r.h.send(t,e),0)})},b.setOptions=function(t){this.h.setOptions(t)},C("Pose",mr),C("POSE_CONNECTIONS",[[0,1],[1,2],[2,3],[3,7],[0,4],[4,5],[5,6],[6,8],[9,10],[11,12],[11,13],[13,15],[15,17],[15,19],[15,21],[17,19],[12,14],[14,16],[16,18],[16,20],[16,22],[18,20],[11,23],[12,24],[23,24],[23,25],[24,26],[25,27],[26,28],[27,29],[28,30],[29,31],[30,32],[27,31],[28,32]]),C("POSE_LANDMARKS",{NOSE:0,LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,LEFT_EAR:7,RIGHT_EAR:8,LEFT_RIGHT:9,RIGHT_LEFT:10,LEFT_SHOULDER:11,RIGHT_SHOULDER:12,LEFT_ELBOW:13,RIGHT_ELBOW:14,LEFT_WRIST:15,RIGHT_WRIST:16,LEFT_PINKY:17,RIGHT_PINKY:18,LEFT_INDEX:19,RIGHT_INDEX:20,LEFT_THUMB:21,RIGHT_THUMB:22,LEFT_HIP:23,RIGHT_HIP:24,LEFT_KNEE:25,RIGHT_KNEE:26,LEFT_ANKLE:27,RIGHT_ANKLE:28,LEFT_HEEL:29,RIGHT_HEEL:30,LEFT_FOOT_INDEX:31,RIGHT_FOOT_INDEX:32}),C("POSE_LANDMARKS_LEFT",{LEFT_EYE_INNER:1,LEFT_EYE:2,LEFT_EYE_OUTER:3,LEFT_EAR:7,LEFT_RIGHT:9,LEFT_SHOULDER:11,LEFT_ELBOW:13,LEFT_WRIST:15,LEFT_PINKY:17,LEFT_INDEX:19,LEFT_THUMB:21,LEFT_HIP:23,LEFT_KNEE:25,LEFT_ANKLE:27,LEFT_HEEL:29,LEFT_FOOT_INDEX:31}),C("POSE_LANDMARKS_RIGHT",{RIGHT_EYE_INNER:4,RIGHT_EYE:5,RIGHT_EYE_OUTER:6,RIGHT_EAR:8,RIGHT_LEFT:10,RIGHT_SHOULDER:12,RIGHT_ELBOW:14,RIGHT_WRIST:16,RIGHT_PINKY:18,RIGHT_INDEX:20,RIGHT_THUMB:22,RIGHT_HIP:24,RIGHT_KNEE:26,RIGHT_ANKLE:28,RIGHT_HEEL:30,RIGHT_FOOT_INDEX:32}),C("POSE_LANDMARKS_NEUTRAL",{NOSE:0}),C("VERSION","0.5.1675469404")}).call(bt);var mn={};(function(){function b(a){var c=0;return function(){return c<a.length?{done:!1,value:a[c++]}:{done:!0}}}var E=typeof Object.defineProperties=="function"?Object.defineProperty:function(a,c,A){return a==Array.prototype||a==Object.prototype||(a[c]=A.value),a};function O(a){a=[typeof globalThis=="object"&&globalThis,a,typeof window=="object"&&window,typeof self=="object"&&self,typeof bt=="object"&&bt];for(var c=0;c<a.length;++c){var A=a[c];if(A&&A.Math==Math)return A}throw Error("Cannot find global object")}var P=O(this);function _(a,c){if(c)t:{var A=P;a=a.split(".");for(var y=0;y<a.length-1;y++){var x=a[y];if(!(x in A))break t;A=A[x]}a=a[a.length-1],y=A[a],c=c(y),c!=y&&c!=null&&E(A,a,{configurable:!0,writable:!0,value:c})}}_("Symbol",function(a){function c(C){if(this instanceof c)throw new TypeError("Symbol is not a constructor");return new A(y+(C||"")+"_"+x++,C)}function A(C,h){this.g=C,E(this,"description",{configurable:!0,writable:!0,value:h})}if(a)return a;A.prototype.toString=function(){return this.g};var y="jscomp_symbol_"+(1e9*Math.random()>>>0)+"_",x=0;return c}),_("Symbol.iterator",function(a){if(a)return a;a=Symbol("Symbol.iterator");for(var c="Array Int8Array Uint8Array Uint8ClampedArray Int16Array Uint16Array Int32Array Uint32Array Float32Array Float64Array".split(" "),A=0;A<c.length;A++){var y=P[c[A]];typeof y=="function"&&typeof y.prototype[a]!="function"&&E(y.prototype,a,{configurable:!0,writable:!0,value:function(){return T(b(this))}})}return a});function T(a){return a={next:a},a[Symbol.iterator]=function(){return this},a}function X(a){var c=typeof Symbol<"u"&&Symbol.iterator&&a[Symbol.iterator];return c?c.call(a):{next:b(a)}}function M(){this.i=!1,this.g=null,this.o=void 0,this.j=1,this.m=0,this.h=null}function J(a){if(a.i)throw new TypeError("Generator is already running");a.i=!0}M.prototype.l=function(a){this.o=a};function ut(a,c){a.h={F:c,G:!0},a.j=a.m}M.prototype.return=function(a){this.h={return:a},this.j=this.m};function lt(a){this.g=new M,this.h=a}function ft(a,c){J(a.g);var A=a.g.g;return A?nt(a,"return"in A?A.return:function(y){return{value:y,done:!0}},c,a.g.return):(a.g.return(c),ht(a))}function nt(a,c,A,y){try{var x=c.call(a.g.g,A);if(!(x instanceof Object))throw new TypeError("Iterator result "+x+" is not an object");if(!x.done)return a.g.i=!1,x;var C=x.value}catch(h){return a.g.g=null,ut(a.g,h),ht(a)}return a.g.g=null,y.call(a.g,C),ht(a)}function ht(a){for(;a.g.j;)try{var c=a.h(a.g);if(c)return a.g.i=!1,{value:c.value,done:!1}}catch(A){a.g.o=void 0,ut(a.g,A)}if(a.g.i=!1,a.g.h){if(c=a.g.h,a.g.h=null,c.G)throw c.F;return{value:c.return,done:!0}}return{value:void 0,done:!0}}function Tt(a){this.next=function(c){return J(a.g),a.g.g?c=nt(a,a.g.g.next,c,a.g.l):(a.g.l(c),c=ht(a)),c},this.throw=function(c){return J(a.g),a.g.g?c=nt(a,a.g.g.throw,c,a.g.l):(ut(a.g,c),c=ht(a)),c},this.return=function(c){return ft(a,c)},this[Symbol.iterator]=function(){return this}}function _t(a){function c(y){return a.next(y)}function A(y){return a.throw(y)}return new Promise(function(y,x){function C(h){h.done?y(h.value):Promise.resolve(h.value).then(c,A).then(C,x)}C(a.next())})}_("Promise",function(a){function c(h){this.h=0,this.i=void 0,this.g=[],this.o=!1;var m=this.j();try{h(m.resolve,m.reject)}catch(S){m.reject(S)}}function A(){this.g=null}function y(h){return h instanceof c?h:new c(function(m){m(h)})}if(a)return a;A.prototype.h=function(h){if(this.g==null){this.g=[];var m=this;this.i(function(){m.l()})}this.g.push(h)};var x=P.setTimeout;A.prototype.i=function(h){x(h,0)},A.prototype.l=function(){for(;this.g&&this.g.length;){var h=this.g;this.g=[];for(var m=0;m<h.length;++m){var S=h[m];h[m]=null;try{S()}catch(L){this.j(L)}}}this.g=null},A.prototype.j=function(h){this.i(function(){throw h})},c.prototype.j=function(){function h(L){return function(K){S||(S=!0,L.call(m,K))}}var m=this,S=!1;return{resolve:h(this.A),reject:h(this.l)}},c.prototype.A=function(h){if(h===this)this.l(new TypeError("A Promise cannot resolve to itself"));else if(h instanceof c)this.C(h);else{t:switch(typeof h){case"object":var m=h!=null;break t;case"function":m=!0;break t;default:m=!1}m?this.v(h):this.m(h)}},c.prototype.v=function(h){var m=void 0;try{m=h.then}catch(S){this.l(S);return}typeof m=="function"?this.D(m,h):this.m(h)},c.prototype.l=function(h){this.u(2,h)},c.prototype.m=function(h){this.u(1,h)},c.prototype.u=function(h,m){if(this.h!=0)throw Error("Cannot settle("+h+", "+m+"): Promise already settled in state"+this.h);this.h=h,this.i=m,this.h===2&&this.B(),this.H()},c.prototype.B=function(){var h=this;x(function(){if(h.I()){var m=P.console;typeof m<"u"&&m.error(h.i)}},1)},c.prototype.I=function(){if(this.o)return!1;var h=P.CustomEvent,m=P.Event,S=P.dispatchEvent;return typeof S>"u"?!0:(typeof h=="function"?h=new h("unhandledrejection",{cancelable:!0}):typeof m=="function"?h=new m("unhandledrejection",{cancelable:!0}):(h=P.document.createEvent("CustomEvent"),h.initCustomEvent("unhandledrejection",!1,!0,h)),h.promise=this,h.reason=this.i,S(h))},c.prototype.H=function(){if(this.g!=null){for(var h=0;h<this.g.length;++h)C.h(this.g[h]);this.g=null}};var C=new A;return c.prototype.C=function(h){var m=this.j();h.s(m.resolve,m.reject)},c.prototype.D=function(h,m){var S=this.j();try{h.call(m,S.resolve,S.reject)}catch(L){S.reject(L)}},c.prototype.then=function(h,m){function S(V,$){return typeof V=="function"?function(gt){try{L(V(gt))}catch(wt){K(wt)}}:$}var L,K,Ot=new c(function(V,$){L=V,K=$});return this.s(S(h,L),S(m,K)),Ot},c.prototype.catch=function(h){return this.then(void 0,h)},c.prototype.s=function(h,m){function S(){switch(L.h){case 1:h(L.i);break;case 2:m(L.i);break;default:throw Error("Unexpected state: "+L.h)}}var L=this;this.g==null?C.h(S):this.g.push(S),this.o=!0},c.resolve=y,c.reject=function(h){return new c(function(m,S){S(h)})},c.race=function(h){return new c(function(m,S){for(var L=X(h),K=L.next();!K.done;K=L.next())y(K.value).s(m,S)})},c.all=function(h){var m=X(h),S=m.next();return S.done?y([]):new c(function(L,K){function Ot(gt){return function(wt){V[gt]=wt,$--,$==0&&L(V)}}var V=[],$=0;do V.push(void 0),$++,y(S.value).s(Ot(V.length-1),K),S=m.next();while(!S.done)})},c});var pt=typeof Object.assign=="function"?Object.assign:function(a,c){for(var A=1;A<arguments.length;A++){var y=arguments[A];if(y)for(var x in y)Object.prototype.hasOwnProperty.call(y,x)&&(a[x]=y[x])}return a};_("Object.assign",function(a){return a||pt});var jt=this||self,St={facingMode:"user",width:640,height:480};function at(a,c){this.video=a,this.i=0,this.h=Object.assign(Object.assign({},St),c)}at.prototype.stop=function(){var a=this,c,A,y,x;return _t(new Tt(new lt(function(C){if(a.g){for(c=a.g.getTracks(),A=X(c),y=A.next();!y.done;y=A.next())x=y.value,x.stop();a.g=void 0}C.j=0})))},at.prototype.start=function(){var a=this,c;return _t(new Tt(new lt(function(A){return navigator.mediaDevices&&navigator.mediaDevices.getUserMedia||alert("No navigator.mediaDevices.getUserMedia exists."),c=a.h,A.return(navigator.mediaDevices.getUserMedia({video:{facingMode:c.facingMode,width:c.width,height:c.height}}).then(function(y){Zt(a,y)}).catch(function(y){var x="Failed to acquire camera feed: "+y;throw console.error(x),alert(x),y}))})))};function N(a){window.requestAnimationFrame(function(){Qt(a)})}function Zt(a,c){a.g=c,a.video.srcObject=c,a.video.onloadedmetadata=function(){a.video.play(),N(a)}}function Qt(a){var c=null;a.video.paused||a.video.currentTime===a.i||(a.i=a.video.currentTime,c=a.h.onFrame()),c?c.then(function(){N(a)}):N(a)}var it=["Camera"],G=jt;it[0]in G||typeof G.execScript>"u"||G.execScript("var "+it[0]);for(var ot;it.length&&(ot=it.shift());)it.length||at===void 0?G[ot]&&G[ot]!==Object.prototype[ot]?G=G[ot]:G=G[ot]={}:G[ot]=at}).call(bt);class gn{constructor(E,O){Ut(this,"pose");Ut(this,"camera",null);Ut(this,"onFocusChange");this.onFocusChange=O,this.pose=new yn.Pose({locateFile:P=>`https://cdn.jsdelivr.net/npm/@mediapipe/pose/${P}`}),this.pose.setOptions({modelComplexity:1,smoothLandmarks:!0,minDetectionConfidence:.5,minTrackingConfidence:.5}),this.pose.onResults(P=>this.processResults(P)),this.camera=new mn.Camera(E,{onFrame:async()=>{await this.pose.send({image:E})},width:640,height:480})}start(){var E;(E=this.camera)==null||E.start()}stop(){var E;(E=this.camera)==null||E.stop()}processResults(E){if(!E.poseLandmarks){this.onFocusChange(!1);return}const O=E.poseLandmarks[7],P=E.poseLandmarks[8],_=E.poseLandmarks[11],T=E.poseLandmarks[12],X=(_.y+T.y)/2,J=(O.y+P.y)/2<X&&Math.abs(O.x-P.x)>.05;this.onFocusChange(J)}}const wn=b=>{var ut;b.innerHTML=`
    <div class="timer-screen">
      <div class="status-badge glass-panel">
        <span id="focus-status">  ...</span>
      </div>
      
      <div class="timer-display">
        <h2 id="time-count">00:00:00</h2>
        <p>  </p>
      </div>

      <div class="video-preview glass-panel">
        <video id="webcam" autoplay playsinline></video>
        <canvas id="pose-canvas"></canvas>
      </div>

      <div class="controls">
        <button id="start-btn" class="btn-primary"> </button>
      </div>
    </div>
  `;const E=b.querySelector("#webcam"),O=b.querySelector("#focus-status"),P=b.querySelector("#time-count");let _=0,T=null;const X=new gn(E,lt=>{lt?(O.textContent="  ",O.style.color="#4caf50",T||M()):(O.textContent="  ",O.style.color="#f44336",J())}),M=()=>{T=setInterval(()=>{_++;const lt=Math.floor(_/3600).toString().padStart(2,"0"),ft=Math.floor(_%3600/60).toString().padStart(2,"0"),nt=(_%60).toString().padStart(2,"0");P.textContent=`${lt}:${ft}:${nt}`},1e3)},J=()=>{clearInterval(T),T=null};(ut=b.querySelector("#start-btn"))==null||ut.addEventListener("click",()=>{X.start(),b.querySelector("#start-btn").style.display="none"})},En=b=>{b.innerHTML=`
    <div class="leaderboard-screen">
      <div class="tabs glass-panel">
        <button class="active"></button>
        <button> </button>
        <button></button>
      </div>

      <div class="ranking-list">
        <div class="rank-item glass-panel highlight">
          <span class="rank-num">1</span>
          <div class="user-info">
            <p class="user-name"> ()</p>
            <p class="location">, </p>
          </div>
          <span class="focus-time">05:24:12</span>
        </div>

        <div class="rank-item glass-panel">
          <span class="rank-num">2</span>
          <div class="user-info">
            <p class="user-name">Lee Study</p>
            <p class="location">, </p>
          </div>
          <span class="focus-time">05:12:05</span>
        </div>

        <div class="rank-item glass-panel">
          <span class="rank-num">3</span>
          <div class="user-info">
            <p class="user-name">Park Focus</p>
            <p class="location">, </p>
          </div>
          <span class="focus-time">04:55:30</span>
        </div>
      </div>

      <div class="relative-info glass-panel">
        <p> 3% ! 2 12 .</p>
      </div>
    </div>
  `},An=b=>{b.innerHTML=`
    <div class="study-room-screen">
      <div class="room-header glass-panel">
        <h2>  </h2>
        <p>   : 124</p>
      </div>

      <div class="rival-grid">
        ${[1,2,3,4,5,6].map(E=>`
          <div class="rival-card glass-panel">
            <div class="rival-avatar"></div>
            <p class="rival-name">User ${E}</p>
            <div class="rival-status focused"> </div>
          </div>
        `).join("")}
      </div>

      <div class="room-actions">
        <button class="btn-primary"> </button>
      </div>
    </div>
  `},bn=b=>{b.innerHTML=`
    <div class="profile-screen">
      <div class="profile-header glass-panel">
        <div class="avatar-large"></div>
        <h2></h2>
        <p>lv.15  </p>
      </div>

      <div class="stats-grid">
        <div class="stat-card glass-panel">
          <h3>  </h3>
          <p>124</p>
        </div>
        <div class="stat-card glass-panel">
          <h3> STAI </h3>
          <p>92%</p>
        </div>
      </div>

      <div class="settings-list">
        <div class="setting-item glass-panel"> </div>
        <div class="setting-item glass-panel">  </div>
        <div class="setting-item glass-panel" onclick="location.pathname='/subscription'"> </div>
      </div>
    </div>
  `},Tn=(b,E)=>{const O=window.paypal;if(!O){console.error("PayPal SDK not loaded");return}O.Buttons({createOrder:(P,_)=>_.order.create({purchase_units:[{amount:{value:E}}]}),onApprove:async(P,_)=>{const T=await _.order.capture();console.log("Payment Approved:",T)}}).render(`#${b}`)},_n=b=>{b.innerHTML=`
    <div class="subscription-screen">
      <div class="sub-header">
        <h2>Premium Membership</h2>
        <p>     .</p>
      </div>

      <div class="plan-card glass-panel highlight">
        <div class="plan-info">
          <h3>Monthly Plan</h3>
          <p class="price">$9.99 / mo</p>
        </div>
        <ul class="features">
          <li>    </li>
          <li> AI     </li>
          <li>    </li>
        </ul>
        <div id="paypal-button-container"></div>
      </div>

      <div class="plan-card glass-panel">
        <div class="plan-info">
          <h3>Weekly Plan (Trial)</h3>
          <p class="price">$2.99 / wk</p>
        </div>
        <button class="btn-secondary"></button>
      </div>
    </div>
  `,setTimeout(()=>{Tn("paypal-button-container","9.99")},100)},gr={"/":"stai_focus_timer","/leaderboard":"leaderboard","/study-room":"study_room","/profile":"user_profile","/subscription":"subscription"};class jn{constructor(){Ut(this,"appElement");this.appElement=document.querySelector("#app"),window.addEventListener("popstate",()=>this.handleRoute()),this.handleRoute()}async handleRoute(){const E=window.location.pathname,O=gr[E]||gr["/"];O==="stai_focus_timer"?wn(this.appElement):O==="leaderboard"?En(this.appElement):O==="study_room"?An(this.appElement):O==="user_profile"?bn(this.appElement):O==="subscription"?_n(this.appElement):this.renderPlaceholder(O)}renderPlaceholder(E){this.appElement.innerHTML=`
      <div class="screen-loading">
        <p>   ...</p>
      </div>
    `,console.log(`Rendering screen: ${E}`),this.appElement.innerHTML=`
      <main class="screen-container ${E}">
        <header>
          <h1>${E.replace(/_/g," ").toUpperCase()}</h1>
        </header>
        <section id="screen-content">
          <!-- Screen specific logic will be injected here -->
          <p>   UI .</p>
        </section>
        <nav class="bottom-nav glass-panel">
          <button onclick="location.pathname='/'"></button>
          <button onclick="location.pathname='/leaderboard'"></button>
          <button onclick="location.pathname='/study-room'"></button>
          <button onclick="location.pathname='/profile'"></button>
        </nav>
      </main>
    `}navigateTo(E){window.history.pushState({},"",E),this.handleRoute()}}new jn;
